(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[324],{203:function(e,a,r){Promise.resolve().then(r.bind(r,9064))},9064:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return v}});var s=r(7437),l=r(7138),n=r(2265),i=r(6463),t=r(857),c=r(371),u=r(931),d=r(9135),o=r(495),h=r(357);let m=[{href:"/home",label:"Inicio"},{href:"/map",label:"Mapa"},{href:"/creatures",label:"Criaturas"},{href:"/battle",label:"Batalla"},{href:"/missions",label:"Misiones"},{href:"/achievements",label:"Logros"},{href:"/profile",label:"Perfil"}];function f(e){return(0,n.useMemo)(()=>e?[...m,{href:"/admin",label:"Admin"}]:m,[e])}function x(){var e,a;let r=(0,i.usePathname)(),{status:n,signOut:u}=(0,t.a)(),{profile:m,isLive:f,bonds:x,status:b,error:j}=(0,c.G)(),v=h.env.NEXT_PUBLIC_DU_LOGO_URL||"/icon-512.png",p=h.env.NEXT_PUBLIC_CRFM_URL,N=p?p.replace(/\/$/,""):"",P=null!==(a=null!==(e=null==m?void 0:m.wallet_balance)&&void 0!==e?e:null==m?void 0:m.wallet_balances)&&void 0!==a?a:"â€”",_=x.length?"".concat(x.length," vinculos"):"Sin vinculos";return(0,s.jsxs)("header",{className:"du-topbar",children:[(0,s.jsxs)("div",{className:"du-topbar-left",children:[(0,s.jsx)(l.default,{href:"/map","aria-label":"Inicio DU TCG",children:v?(0,s.jsx)("img",{src:v,alt:"DU TCG Puerto Rico",className:"du-logo",style:{height:48}}):(0,s.jsx)("span",{className:"du-logo-text",children:"DU TCG PR"})}),(0,s.jsxs)("div",{className:"du-topbar-meta",children:[(0,s.jsx)("div",{className:"du-topbar-title",children:function(e){if("/"===e||"/map"===e)return"Explorar Puerto Rico";if(e.startsWith("/home"))return"Inicio";switch(e.split("/").filter(Boolean)[0]){case"creatures":return"Coleccion";case"battle":return"Batalla";case"missions":return"Misiones";case"achievements":return"Logros";case"profile":return"Perfil";case"admin":return"Admin";default:return"DU TCG"}}(r)}),(0,s.jsxs)("div",{className:"du-chip-row",children:[(0,s.jsx)(d.A,{children:f?"Live":"Mock"}),(0,s.jsx)(d.A,{children:b}),(0,s.jsxs)(d.A,{children:["Wallet: ",P," CC"]}),(null==m?void 0:m.role)&&(0,s.jsxs)(d.A,{children:["Rol: ",m.role]}),(0,s.jsx)(d.A,{children:_})]}),"error"===b&&j?(0,s.jsxs)("div",{className:"du-meta",children:["Data error: ",j]}):null]})]}),(0,s.jsx)("div",{className:"du-topbar-actions",children:"ready"===n?(0,s.jsx)(o.z,{variant:"ghost",onClick:u,children:"Salir"}):(0,s.jsx)("a",{className:"du-button ghost",href:"".concat(N,"/?auth=login"),rel:"noreferrer",children:"Inicia en CRFM"})})]})}function b(){let e=(0,i.usePathname)(),{profile:a}=(0,c.G)(),r=f(!!(null==a?void 0:a.is_admin));return(0,s.jsx)("nav",{className:"du-tabbar",children:r.map(a=>{let r=e.startsWith(a.href);return(0,s.jsxs)(l.default,{href:a.href,className:"du-tab-btn".concat(r?" active":""),children:[(0,s.jsx)("span",{className:"du-tab-label",children:a.label}),r?(0,s.jsx)("span",{className:"du-tab-indicator","aria-hidden":!0}):null]},a.href)})})}function j(){let e=(0,i.usePathname)(),{profile:a}=(0,c.G)(),r=f(!!(null==a?void 0:a.is_admin));return(0,s.jsx)("aside",{className:"du-rail",children:r.map(a=>{let r=e.startsWith(a.href);return(0,s.jsx)(l.default,{href:a.href,className:"du-rail-item".concat(r?" active":""),children:a.label},a.href)})})}function v(e){let{children:a}=e;return(0,s.jsx)(t.H,{children:(0,s.jsx)(c.U,{children:(0,s.jsx)(u.O,{children:(0,s.jsxs)("div",{className:"du-app-shell",children:[(0,s.jsx)(x,{}),(0,s.jsxs)("div",{className:"du-app-body",children:[(0,s.jsx)(j,{}),(0,s.jsx)("main",{className:"du-main",children:a})]}),(0,s.jsx)(b,{})]})})})})}},6463:function(e,a,r){"use strict";var s=r(1169);r.o(s,"usePathname")&&r.d(a,{usePathname:function(){return s.usePathname}}),r.o(s,"useSearchParams")&&r.d(a,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[234,138,366,971,23,744],function(){return e(e.s=203)}),_N_E=e.O()}]);