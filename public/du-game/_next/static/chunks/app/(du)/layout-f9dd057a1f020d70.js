(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[324],{203:function(e,a,s){Promise.resolve().then(s.bind(s,9064))},9064:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return p}});var r=s(7437),l=s(7138),n=s(2265),t=s(6463),i=s(857),c=s(371),u=s(931),o=s(9135),d=s(495),h=s(357);let m=[{href:"/home",label:"Inicio"},{href:"/map",label:"Mapa"},{href:"/creatures",label:"Criaturas"},{href:"/battle",label:"Batalla"},{href:"/missions",label:"Misiones"},{href:"/achievements",label:"Logros"},{href:"/profile",label:"Perfil"}];function f(e){return(0,n.useMemo)(()=>e?[...m,{href:"/admin",label:"Admin"}]:m,[e])}function j(){var e,a;let s=(0,t.usePathname)(),{status:n,signOut:u}=(0,i.a)(),{profile:m,isLive:f,bonds:j,status:b,error:x}=(0,c.G)(),p="https://npdklestjuejrotjtqwt.supabase.co",v=p?"".concat(p,"/storage/v1/object/public/logo/DUTCGPRLogo.png"):null,N=h.env.NEXT_PUBLIC_CRFM_URL,P=N?N.replace(/\/$/,""):"",g=null!==(a=null!==(e=null==m?void 0:m.wallet_balance)&&void 0!==e?e:null==m?void 0:m.wallet_balances)&&void 0!==a?a:"â€”",C=j.length?"".concat(j.length," vinculos"):"Sin vinculos";return(0,r.jsxs)("header",{className:"du-topbar",children:[(0,r.jsxs)("div",{className:"du-topbar-left",children:[(0,r.jsx)(l.default,{href:"/map","aria-label":"Inicio DU TCG",children:v?(0,r.jsx)("img",{src:v,alt:"DU TCG Puerto Rico",className:"du-logo",style:{height:48}}):(0,r.jsx)("span",{className:"du-logo-text",children:"DU TCG PR"})}),(0,r.jsxs)("div",{className:"du-topbar-meta",children:[(0,r.jsx)("div",{className:"du-topbar-title",children:function(e){if("/"===e||"/map"===e)return"Explorar Puerto Rico";if(e.startsWith("/home"))return"Inicio";switch(e.split("/").filter(Boolean)[0]){case"creatures":return"Coleccion";case"battle":return"Batalla";case"missions":return"Misiones";case"achievements":return"Logros";case"profile":return"Perfil";case"admin":return"Admin";default:return"DU TCG"}}(s)}),(0,r.jsxs)("div",{className:"du-chip-row",children:[(0,r.jsx)(o.A,{children:f?"Live":"Mock"}),(0,r.jsx)(o.A,{children:b}),(0,r.jsxs)(o.A,{children:["Wallet: ",g," CC"]}),(null==m?void 0:m.role)&&(0,r.jsxs)(o.A,{children:["Rol: ",m.role]}),(0,r.jsx)(o.A,{children:C})]}),"error"===b&&x?(0,r.jsxs)("div",{className:"du-meta",children:["Data error: ",x]}):null]})]}),(0,r.jsx)("div",{className:"du-topbar-actions",children:"ready"===n?(0,r.jsx)(d.z,{variant:"ghost",onClick:u,children:"Salir"}):(0,r.jsx)("a",{className:"du-button ghost",href:"".concat(P,"/?auth=login"),rel:"noreferrer",children:"Inicia en CRFM"})})]})}function b(){let e=(0,t.usePathname)(),{profile:a}=(0,c.G)(),s=f(!!(null==a?void 0:a.is_admin));return(0,r.jsx)("nav",{className:"du-tabbar",children:s.map(a=>{let s=e.startsWith(a.href);return(0,r.jsxs)(l.default,{href:a.href,className:"du-tab-btn".concat(s?" active":""),children:[(0,r.jsx)("span",{className:"du-tab-label",children:a.label}),s?(0,r.jsx)("span",{className:"du-tab-indicator","aria-hidden":!0}):null]},a.href)})})}function x(){let e=(0,t.usePathname)(),{profile:a}=(0,c.G)(),s=f(!!(null==a?void 0:a.is_admin));return(0,r.jsx)("aside",{className:"du-rail",children:s.map(a=>{let s=e.startsWith(a.href);return(0,r.jsx)(l.default,{href:a.href,className:"du-rail-item".concat(s?" active":""),children:a.label},a.href)})})}function p(e){let{children:a}=e;return(0,r.jsx)(i.H,{children:(0,r.jsx)(c.U,{children:(0,r.jsx)(u.O,{children:(0,r.jsxs)("div",{className:"du-app-shell",children:[(0,r.jsx)(j,{}),(0,r.jsxs)("div",{className:"du-app-body",children:[(0,r.jsx)(x,{}),(0,r.jsx)("main",{className:"du-main",children:a})]}),(0,r.jsx)(b,{})]})})})})}},6463:function(e,a,s){"use strict";var r=s(1169);s.o(r,"usePathname")&&s.d(a,{usePathname:function(){return r.usePathname}}),s.o(r,"useSearchParams")&&s.d(a,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[234,138,366,971,23,744],function(){return e(e.s=203)}),_N_E=e.O()}]);